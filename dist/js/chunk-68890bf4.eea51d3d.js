(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68890bf4"],{1954:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"Inner-header"},[r("div",{staticClass:"register-wrapper"},[r("h1",[e._v("Hello!")]),r("h2",[e._v("欢迎使用信息管理系统!")]),r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,"status-icon":"",rules:e.rules2,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入身份证号码:"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin()}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入密码:",type:"password","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin()}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return e.onLogin.apply(null,arguments)}}},[e._v("登 录")])],1),r("el-form-item",[r("span",{staticStyle:{cursor:"pointer",color:"#f1ebe6","font-size":"0.75rem","text-align":"left"},on:{click:e.signUp}},[e._v("注册账号")]),r("span",{staticStyle:{cursor:"pointer",color:"#f1ebe6","font-size":"0.75rem","margin-left":"5px"},on:{click:e.forgetPSD}},[e._v("忘记密码")])])],1)],1)]),r("div",[r("svg",{staticClass:"waves",attrs:{viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"}},[r("defs",[r("path",{attrs:{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"}})]),r("g",{staticClass:"parallax"},[r("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}}),r("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}}),r("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}}),r("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"7",fill:"#fff"}})])])])])},o=[],s=(r("7f7f"),r("b775"));function a(e){return Object(s["a"])({url:"/login",method:"POST",data:e})}var i=r("852e"),l=r.n(i),c=r("a18c"),u={name:"loginIndex",components:{},props:{},data:function(){var e=this,t=function(t,r,n){""===r?n(new Error("请输入身份证号码")):e.checkIdentity(r)?n():n(new Error("身份证号码不合法"))},r=function(e,t,r){""===t?r(new Error("请输入密码")):r()};return{form:{username:"530124197312202026",password:"123456"},rules2:{password:[{validator:r,trigger:"change"}],username:[{validator:t,trigger:"change"}]},loading:!1}},computed:{},watch:{},created:function(){sessionStorage.clear()},mounted:function(){},methods:{onLogin:function(){var e=this;this.loading=!0,a(this.form).then((function(t){"user_error"===t.data?(e.$message.error("账号或密码错误，请重新输入！"),sessionStorage.clear(),e.loading=!1):(e.$store.commit("setRole",t.data.role),l.a.set("role",t.data.role),e.$store.commit("setUsername",t.data.username),e.$store.commit("setPhoto",t.data.photo),sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("name",t.data.name),e.loading=!1,e.$message.success("登录成功"),Object(c["b"])(),e.$router.push("/home"))})).catch((function(e){console.log(e)}))},signUp:function(){this.$router.push("/signUp")},forgetPSD:function(){this.$message.warning("功能暂未开发")},checkIdentity:function(e){var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=[1,0,"X",9,8,7,6,5,4,3,2];if(/^\d{17}\d|x$/i.test(e)){for(var n,o=0,s=0;s<e.length-1;s++)o+=parseInt(e.substr(s,1),10)*t[s];return n=o%11,r[n]==e.substr(17,1).toUpperCase()}return!1}}},f=u,d=(r("2f04"),r("2877")),p=Object(d["a"])(f,n,o,!1,null,"07f3dc7f",null);t["default"]=p.exports},"2f04":function(e,t,r){"use strict";r("e1d5")},"7f7f":function(e,t,r){var n=r("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in o||r("9e1e")&&n(o,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},e1d5:function(e,t,r){}}]);
//# sourceMappingURL=chunk-68890bf4.eea51d3d.js.map